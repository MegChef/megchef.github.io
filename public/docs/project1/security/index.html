<!DOCTYPE html>
<html lang="en-us">
  <head><script src="/livereload.js?mindelay=10&amp;v=2&amp;port=1313&amp;path=livereload" data-no-instant defer></script>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    
    <title>Security | Project 1 Docs</title>
    <meta name="viewport" content="width=device-width,minimum-scale=1">
    <meta name="description" content="Security Features of REST APIs
Security Mechanisms Implemented
My REST API implements multiple layers of security to protect user data, authentication tokens, and authorization logic.
The main mechanisms include JWT-based authentication, role-based access control, password hashing, token revocation, input validation, and error handling.
Each of these features ensures both user privacy and system integrity.
1. JSON Web Token (JWT) Authentication


Purpose:

JWTs are used to verify that a client is authenticated before accessing protected endpoints
After successful login, the server issues a JWT signed using a secret key. This token is sent in the Authorization header for subsequent requests



Implementation Details:">
    <meta name="generator" content="Hugo 0.148.2">
    
    
    
      <meta name="robots" content="noindex, nofollow">
    
    

    
<link rel="stylesheet" href="/ananke/css/main.min.css" >




    


    
      

    

    

    
      <link rel="canonical" href="//localhost:1313/docs/project1/security/">
    

    
    
    <meta property="og:url" content="//localhost:1313/docs/project1/security/">
  <meta property="og:site_name" content="Project 1 Docs">
  <meta property="og:title" content="Security">
  <meta property="og:description" content="Security Features of REST APIs Security Mechanisms Implemented My REST API implements multiple layers of security to protect user data, authentication tokens, and authorization logic.
The main mechanisms include JWT-based authentication, role-based access control, password hashing, token revocation, input validation, and error handling.
Each of these features ensures both user privacy and system integrity.
1. JSON Web Token (JWT) Authentication Purpose:
JWTs are used to verify that a client is authenticated before accessing protected endpoints After successful login, the server issues a JWT signed using a secret key. This token is sent in the Authorization header for subsequent requests Implementation Details:">
  <meta property="og:locale" content="en_us">
  <meta property="og:type" content="article">
    <meta property="article:section" content="docs">

  <meta itemprop="name" content="Security">
  <meta itemprop="description" content="Security Features of REST APIs Security Mechanisms Implemented My REST API implements multiple layers of security to protect user data, authentication tokens, and authorization logic.
The main mechanisms include JWT-based authentication, role-based access control, password hashing, token revocation, input validation, and error handling.
Each of these features ensures both user privacy and system integrity.
1. JSON Web Token (JWT) Authentication Purpose:
JWTs are used to verify that a client is authenticated before accessing protected endpoints After successful login, the server issues a JWT signed using a secret key. This token is sent in the Authorization header for subsequent requests Implementation Details:">
  <meta itemprop="wordCount" content="727">
  <meta name="twitter:card" content="summary">
  <meta name="twitter:title" content="Security">
  <meta name="twitter:description" content="Security Features of REST APIs Security Mechanisms Implemented My REST API implements multiple layers of security to protect user data, authentication tokens, and authorization logic.
The main mechanisms include JWT-based authentication, role-based access control, password hashing, token revocation, input validation, and error handling.
Each of these features ensures both user privacy and system integrity.
1. JSON Web Token (JWT) Authentication Purpose:
JWTs are used to verify that a client is authenticated before accessing protected endpoints After successful login, the server issues a JWT signed using a secret key. This token is sent in the Authorization header for subsequent requests Implementation Details:">

	
  </head><body class="ma0 avenir bg-near-white development">

    
   
  

  <header>
    <div class="bg-black">
      <nav class="pv3 ph3 ph4-ns" role="navigation">
  <div class="flex-l center items-center justify-between">
    <a href="/" class="f3 fw2 hover-white white-90 dib no-underline">
      
        Project 1 Docs
      
    </a>
    <div class="flex-l items-center">
      

      
        <ul class="pl0 mr3">
          
          <li class="list f5 f4-ns fw4 dib pr3">
            <a class="hover-white white-90 no-underline" href="/docs/" title="Docs page">
              Docs
            </a>
          </li>
          
          <li class="list f5 f4-ns fw4 dib pr3">
            <a class="hover-white white-90 no-underline" href="/portfolio/" title="Portfolio page">
              Portfolio
            </a>
          </li>
          
        </ul>
      
      <div class="ananke-socials"></div>

    </div>
  </div>
</nav>

    </div>
  </header>



    <main class="pb7" role="main">
      
  
  <article class="flex-l mw7 center ph3 flex-wrap justify-between">
    <header class="mt4 w-100">
      <aside class="instapaper_ignoref b helvetica tracked ttu">
          
        Docs
      </aside><div id="sharing" class="mt3 ananke-socials"></div>
<h1 class="f1 athelas mt3 mb1">Security</h1>
      
      
      

      
      
    </header>
    <div class="nested-copy-line-height lh-copy serif f4 nested-links mid-gray pr4-l w-100-l"><h2 id="security-features-of-rest-apis">Security Features of REST APIs</h2>
<h2 id="security-mechanisms-implemented">Security Mechanisms Implemented</h2>
<p>My REST API implements multiple layers of security to protect user data, authentication tokens, and authorization logic.</p>
<p>The main mechanisms include JWT-based authentication, role-based access control, password hashing, token revocation, input validation, and error handling.</p>
<p>Each of these features ensures both user privacy and system integrity.</p>
<h2 id="1-json-web-token-jwt-authentication">1. JSON Web Token (JWT) Authentication</h2>
<ul>
<li>
<p>Purpose:</p>
<ul>
<li>JWTs are used to verify that a client is authenticated before accessing protected endpoints</li>
<li>After successful login, the server issues a JWT signed using a secret key. This token is sent in the Authorization header for subsequent requests</li>
</ul>
</li>
<li>
<p>Implementation Details:</p>
<ul>
<li>A valid token is required in the format:</li>
</ul>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-php" data-lang="php"><span style="display:flex;"><span>   <span style="color:#a6e22e">Authorization</span><span style="color:#f92672">:</span> <span style="color:#a6e22e">Bearer</span> <span style="color:#f92672">&lt;</span><span style="color:#a6e22e">token</span><span style="color:#f92672">&gt;</span>
</span></span></code></pre></div></li>
<li>
<p>The token contains:</p>
<ul>
<li>iss (issuer) → identifies the system (project1)</li>
<li>iat (issued at) → timestamp when issued</li>
<li>exp (expires at) → token expiration time (1 hour)</li>
<li>user_id → identifies the authenticated user</li>
</ul>
</li>
</ul>
<h3 id="protected-endpoints">Protected Endpoints</h3>
<table>
  <thead>
      <tr>
          <th>Endpoint</th>
          <th>Method</th>
          <th>Description</th>
      </tr>
  </thead>
  <tbody>
      <tr>
          <td>/api/users/me/password</td>
          <td>POST</td>
          <td>Only accessible to logged-in users</td>
      </tr>
      <tr>
          <td>/api/users/:id</td>
          <td>GET</td>
          <td>Requires authentication</td>
      </tr>
      <tr>
          <td>/api/friendRequests</td>
          <td>GET, POST</td>
          <td>Requires a valid user token</td>
      </tr>
      <tr>
          <td>/api/friendRequests/:id</td>
          <td>PUT, DELETE</td>
          <td>Requires token verification</td>
      </tr>
  </tbody>
</table>
<h3 id="protected-endpoints-continued">Protected Endpoints: (continued)</h3>
<table>
  <thead>
      <tr>
          <th>Endpoint</th>
          <th>Method</th>
          <th>Description</th>
      </tr>
  </thead>
  <tbody>
      <tr>
          <td>/api/friends</td>
          <td>GET, DELETE</td>
          <td>Requires token verification</td>
      </tr>
      <tr>
          <td>/api/auth/logout</td>
          <td>POST</td>
          <td>Requires valid token to revoke session</td>
      </tr>
      <tr>
          <td>/api/users</td>
          <td>GET</td>
          <td>(admin-only) Requires valid admin tokenc</td>
      </tr>
  </tbody>
</table>
<p><strong>Files Used:</strong>
/api/middleware.php → handles JWT verification and decoding.</p>
<p>/api/routes/auth.php → issues JWT during login.</p>
<h2 id="2-password-hashing-and-verification">2. Password Hashing and Verification</h2>
<ul>
<li>Purpose:
<ul>
<li>To protect stored passwords from exposure even if the database is compromised.</li>
<li>Plaintext passwords are never stored in the database.</li>
</ul>
</li>
<li>Implementation Details:
<ul>
<li>Passwords are hashed using PHP’s built-in password_hash() with the PASSWORD_BCRYPT algorithm.</li>
<li>Verification uses password_verify() during login.</li>
</ul>
</li>
</ul>
<h3 id="endpoints-using-this-mechanism">Endpoints Using This Mechanism</h3>
<table>
  <thead>
      <tr>
          <th>Endpoint</th>
          <th>Method</th>
          <th>Description</th>
      </tr>
  </thead>
  <tbody>
      <tr>
          <td>/api/users/register</td>
          <td>POST</td>
          <td>Hashes the password before saving</td>
      </tr>
      <tr>
          <td>/api/auth/login</td>
          <td>POST</td>
          <td>Verifies hash match before issuing token</td>
      </tr>
      <tr>
          <td>/api/users/me/password</td>
          <td>POST</td>
          <td>(admin-only) Hashes new password before updating</td>
      </tr>
  </tbody>
</table>
<p><strong>Benefits</strong>
Prevents rainbow table attacks.
Protects against insider data exposure.</p>
<h2 id="3-role-based-access-control-rbac">3. Role-Based Access Control (RBAC)</h2>
<ul>
<li>Purpose:
<ul>
<li>To restrict certain endpoints to only users with administrative privileges.</li>
</ul>
</li>
<li>Implementation Details:
<ul>
<li>Every user record includes a role field (&lsquo;user&rsquo; or &lsquo;admin&rsquo;).</li>
<li>The middleware function requireAdmin() validates the JWT, retrieves the user, and checks if role === &lsquo;admin&rsquo;.</li>
<li>Non-admins receive a 403 Forbidden response.</li>
</ul>
</li>
</ul>
<h3 id="admin-only-endpoints">Admin-Only Endpoints</h3>
<table>
  <thead>
      <tr>
          <th>Endpoint</th>
          <th>Method</th>
          <th>Description</th>
      </tr>
  </thead>
  <tbody>
      <tr>
          <td>/api/users</td>
          <td>GET</td>
          <td>Admins can view all registered users</td>
      </tr>
      <tr>
          <td>/api/users/:id</td>
          <td>DELETE</td>
          <td>Admins can delete user accounts</td>
      </tr>
      <tr>
          <td>/api/admin/users/:id</td>
          <td>GET</td>
          <td>Admins can inspect specific user profiles</td>
      </tr>
  </tbody>
</table>
<p><strong>Files Used:</strong>
/api/middleware.php → requireAdmin() function.</p>
<p><strong>Benefit:</strong>
Enforces the principle of least privilege, preventing normal users from accessing sensitive data or performing system-level actions.</p>
<h2 id="4-token-revocation-logout-mechanism">4. Token Revocation (Logout Mechanism)</h2>
<ul>
<li>Purpose:
<ul>
<li>To ensure tokens can be invalidated before their expiration time, supporting secure logouts</li>
</ul>
</li>
<li>Implementation Details:
<ul>
<li>When a user logs out, their JWT is stored in the revokedTokens table.</li>
<li>The middleware checks the table before validating tokens.</li>
<li>If a token is found in revokedTokens, access is denied.</li>
</ul>
</li>
</ul>
<h3 id="endpoints-using-this-mechanism-1">Endpoints Using This Mechanism</h3>
<table>
  <thead>
      <tr>
          <th>Endpoint</th>
          <th>Method</th>
          <th>Description</th>
      </tr>
  </thead>
  <tbody>
      <tr>
          <td>/api/auth/logout</td>
          <td>POST</td>
          <td>Adds token to revocation list</td>
      </tr>
      <tr>
          <td>(Middleware check)</td>
          <td>-</td>
          <td>Blocks requests with revoked tokens</td>
      </tr>
  </tbody>
</table>
<p><strong>Database Table:</strong></p>
<ul>
<li>revokedTokens(id, token, revokedAt)</li>
</ul>
<p><strong>Benefit:</strong></p>
<ul>
<li>Prevents session reuse after logout and provides a clear audit trail of revoked sessions.</li>
</ul>
<hr>
<h2 id="5-input-validation-and-sanitization">5. Input Validation and Sanitization</h2>
<ul>
<li>Purpose:
<ul>
<li>To prevent SQL injection, malformed input, and malicious payloads.</li>
</ul>
</li>
<li>Implementation Details:
<ul>
<li>All SQL queries use prepared statements with bound parameters.</li>
<li>Input data is parsed using json_decode() and checked for required fields before queries.</li>
<li>Validation ensures proper username, password length, and friend request parameters.</li>
</ul>
</li>
</ul>
<h3 id="endpoints-using-this-mechanism-2">Endpoints Using This Mechanism</h3>
<table>
  <thead>
      <tr>
          <th>Endpoint</th>
          <th>Method</th>
          <th>Description</th>
      </tr>
  </thead>
  <tbody>
      <tr>
          <td>/api/users/register</td>
          <td>POST</td>
          <td>Validates required username/password</td>
      </tr>
      <tr>
          <td>/api/auth/login</td>
          <td>POST</td>
          <td>Validates credentials</td>
      </tr>
      <tr>
          <td>/api/friendRequests</td>
          <td>POST</td>
          <td>Validates IDs before insert</td>
      </tr>
      <tr>
          <td>/api/users/me/password</td>
          <td>POST</td>
          <td>Validates password before update</td>
      </tr>
  </tbody>
</table>
<p><strong>Example Code Snippet:</strong></p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-php" data-lang="php"><span style="display:flex;"><span>$stmt <span style="color:#f92672">=</span> $pdo<span style="color:#f92672">-&gt;</span><span style="color:#a6e22e">prepare</span>(<span style="color:#e6db74">&#34;SELECT id FROM users WHERE username = ?&#34;</span>);
</span></span><span style="display:flex;"><span>$stmt<span style="color:#f92672">-&gt;</span><span style="color:#a6e22e">execute</span>([$username]);
</span></span></code></pre></div><p><strong>Benefit:</strong></p>
<ul>
<li>Eliminates direct SQL injection vulnerabilities.</li>
</ul>
<h2 id="6-error-handling-and-response-security">6. Error Handling and Response Security</h2>
<ul>
<li>Purpose:
<ul>
<li>To prevent data leaks and ensure consistent, secure responses.</li>
</ul>
</li>
<li>Implementation Details:
<ul>
<li>Sensitive errors (like SQL exceptions) are caught and hidden from users.</li>
<li>All responses use JSON format for clarity and safety.</li>
<li>HTTP status codes (401, 403, 404) are correctly set for each scenario.</li>
<li>Authorization errors do not reveal internal logic.</li>
</ul>
</li>
</ul>
<h3 id="endpoints-using-this-mechanism-3">Endpoints Using This Mechanism</h3>
<ul>
<li>Applies to all routes across /api/auth/<em>, /api/users/</em>, /api/friendRequests, and /api/friends.</li>
</ul>
<p><strong>Example:</strong></p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-php" data-lang="php"><span style="display:flex;"><span><span style="color:#a6e22e">http_response_code</span>(<span style="color:#ae81ff">401</span>);
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">echo</span> <span style="color:#a6e22e">json_encode</span>([<span style="color:#e6db74">&#34;error&#34;</span> <span style="color:#f92672">=&gt;</span> <span style="color:#e6db74">&#34;Unauthorized&#34;</span>]);
</span></span></code></pre></div><p><strong>Benefit:</strong></p>
<ul>
<li>Reduces information exposure that could aid attackers.</li>
</ul>
<h2 id="7-cors-and-content-type-enforcement">7. CORS and Content-Type Enforcement</h2>
<ul>
<li>Purpose:
<ul>
<li>To ensure only valid requests with proper headers are processed.</li>
</ul>
</li>
<li>Implementation Details:
<ul>
<li>Enforces Content-Type: application/json for POST requests.</li>
<li>Can be extended with CORS headers (Access-Control-Allow-Origin) for cross-domain safety.</li>
</ul>
</li>
</ul>
<h3 id="endpoints-using-this-mechanism-4">Endpoints Using This Mechanism</h3>
<ul>
<li>Applies globally to all POST endpoints:
<ul>
<li>/api/users/register</li>
<li>/api/auth/login</li>
<li>/api/friendRequests</li>
<li>/api/users/me/password</li>
<li>/api/auth/logout</li>
</ul>
</li>
</ul>
<ul class="pa0">
  
</ul>
<div class="mt6 instapaper_ignoref">
      
      
      </div>
    </div></article>

    </main>
    <footer class="bg-black bottom-0 w-100 pa3" role="contentinfo">
  <div class="flex justify-between">
  <a class="f4 fw4 hover-white white-70 dn dib-ns pv2 ph3 no-underline" href="//localhost:1313/" >
    &copy;  Project 1 Docs 2025 
  </a>
    <div><div class="ananke-socials"></div>
</div>
  </div>
</footer>

  </body>
</html>
